{"ast":null,"code":"export default class InstaService {\n  constructor() {\n    this.getResource = async url => {\n      const res = await fetch(`${this._apiBase}${url}`); //проверяем, если ответ от сервера НЕ пришел\n\n      if (!res.ok) {\n        //создаем новую ошибку\n        throw new Error(`Could not fetch ${url}; received ${res.status}`);\n      }\n\n      return await res.json();\n    };\n\n    this.getAllPosts = async () => {\n      const res = await this.getResource('/posts/');\n      return res;\n    };\n\n    this._apiBase = 'http://localhost:3000';\n  }\n\n}","map":{"version":3,"sources":["/Users/max/Documents/React/workshop-react/React_intensive/workshop-react/src/Services/instaService.js"],"names":["InstaService","constructor","getResource","url","res","fetch","_apiBase","ok","Error","status","json","getAllPosts"],"mappings":"AAAA,eAAe,MAAMA,YAAN,CAAmB;AAC9BC,EAAAA,WAAW,GAAG;AAAA,SAIdC,WAJc,GAIA,MAAOC,GAAP,IAAe;AACzB,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE,KAAKC,QAAS,GAAEH,GAAI,EAAxB,CAAvB,CADyB,CAGzB;;AACA,UAAI,CAACC,GAAG,CAACG,EAAT,EAAa;AACT;AACA,cAAM,IAAIC,KAAJ,CAAW,mBAAkBL,GAAI,cAAaC,GAAG,CAACK,MAAO,EAAzD,CAAN;AACH;;AAED,aAAO,MAAML,GAAG,CAACM,IAAJ,EAAb;AACH,KAda;;AAAA,SAgBdC,WAhBc,GAgBA,YAAY;AACtB,YAAMP,GAAG,GAAG,MAAM,KAAKF,WAAL,CAAiB,SAAjB,CAAlB;AACA,aAAOE,GAAP;AACH,KAnBa;;AACV,SAAKE,QAAL,GAAgB,uBAAhB;AACH;;AAH6B","sourcesContent":["export default class InstaService {\n    constructor() {\n        this._apiBase = 'http://localhost:3000';\n    }\n\n    getResource = async (url) => {\n        const res = await fetch(`${this._apiBase}${url}`);\n\n        //проверяем, если ответ от сервера НЕ пришел\n        if (!res.ok) {\n            //создаем новую ошибку\n            throw new Error(`Could not fetch ${url}; received ${res.status}`)\n        }\n\n        return await res.json()\n    }\n\n    getAllPosts = async () => {\n        const res = await this.getResource('/posts/');\n        return res;\n    } \n}"]},"metadata":{},"sourceType":"module"}